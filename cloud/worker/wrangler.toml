name = "tickboard-cloud"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Durable Objects bindings
[durable_objects]
bindings = [
  { name = "AGENT_HUB", class_name = "AgentHub" }
]

# Migrations for Durable Objects
[[migrations]]
tag = "v1"
new_classes = ["AgentHub"]

# D1 database for users, tokens, boards
[[d1_databases]]
binding = "DB"
database_name = "tickboard"
database_id = "cc15ca7e-a3b6-4f5d-85cf-42e94d536d6f"

# Environment variables (set via wrangler secret)
# TICKBOARD_SECRET - shared secret for token validation

# Development settings
[dev]
port = 8787

# Custom domain configuration
# To enable: add domain to Cloudflare, then uncomment routes below
# [routes]
# { pattern = "tickboard.io/*", zone_name = "tickboard.io" }
# { pattern = "www.tickboard.io/*", zone_name = "tickboard.io" }

# KV namespace for session data (optional, for future use)
# [[kv_namespaces]]
# binding = "SESSIONS"
# id = "xxx"
